Ingenic PWM channel configuration (updated)

1) Channel selection
- Select channels via Kbuild DEFS or at runtime via the module parameter:
  - Kbuild: add/remove -DCONFIG_PWMn in 3.10/misc/pwm/Kbuild
  - Runtime: options pwm_core tcu_channels=0,1,3
- Do not auto-enable channels inside sources; selection is driven by Kbuild/DT/params.
- Note: T10/T20 have channels 0..3; T30/T21/T31/T40 have channels 0..7.
- If your board uses the Motor driver on channel 2, exclude PWM2 (donâ€™t enable CONFIG_PWM2 or omit 2 from tcu_channels).

2) Motor coordination
- Motor driver parameter: options motor tcu_channels=2 (CSV supported, first channel is used to bind)
- Ensure PWM and Motor sets do not overlap on the same TCU channel.

3) Arbitration (required)
- This repo provides tcu_alloc, a small module that enforces exclusive ownership at probe time.
- Load tcu_alloc before pwm_core/motor so claims succeed and conflicts return -EBUSY with clear logs.
- See docs/tcu_ownership.md for details, examples, and troubleshooting.

4) KO loading order
- Recommended: tcu_alloc.ko, then pwm_core.ko, pwm_hal.ko, and motor.ko
- With depmod-managed installs, dependencies will typically resolve; on 3.10, consider modprobe.d softdep lines to hint load order.

5) Notes
- T30 uses PC-group GPIO by default. If you use PB-group GPIO, adjust the platform data accordingly (e.g.,
  arch/mips/xburst/soc-t21/common/platform.c jzpwm_pdata: PC17/PC18 -> PB17/PB18).
